
document.addEventListener("DOMContentLoaded", function () {
  function a(a) {
    function b(a) {
      a.remove();
    }function c() {
      for (; m.firstChild;) {
        m.removeChild(m.firstChild);
      }for (var _a, _b = 0; _b < l.length; _b++) {
        _a = document.createElement("div"), _a.classList.add("password-letter"), _a.append(l[_b]), m.appendChild(_a);
      }document.addEventListener("keyup", d), $(document).on("click", function () {
        $(".dummy").focus();
      }), $(".dummy").focus();
    }function d(a) {
      var g = String.fromCharCode;h(), b(s);var k = void 0,
          m = !1;if (k = 229 == a.keyCode ? $(".dummy").val().slice($(".dummy").val().length - 1, $(".dummy").val().length).toUpperCase().charCodeAt(0) : a.keyCode, 65 <= k && 90 >= k || 97 <= k && 122 >= k) {
        var _a2 = g(k).toUpperCase();for (var _b2 = 0; _b2 < j.length; _b2++) {
          j.charAt(_b2) == _a2 && (l = l.showLetter(_b2, _a2), m = !0);
        }m ? (e(n, _a2), c()) : f(o, _a2);
      }l == j && (document.removeEventListener("keyup", d), v.play(), document.body.insertBefore(A, B), setTimeout(function () {
        document.querySelector(".left-hand").style.animation = "rotation-left-hand .5s infinite", document.querySelector(".right-hand").style.animation = "rotation-right-hand .5s infinite", document.querySelector(".end-box").classList.add("show");
      }, 200), document.querySelector(".btn").addEventListener("click", i)), r > t.length - 1 && (document.removeEventListener("keyup", d), w.play(), document.body.insertBefore(z, B), setTimeout(function () {
        document.querySelector(".end-box").classList.add("show");
      }, 200), document.querySelector(".btn").addEventListener("click", i));
    }function e(a, b) {
      0 > a.indexOf(b) ? (a.push(b), setTimeout(function () {
        document.querySelector(".left-hand").style.animation = "rotation-left-hand .5s", document.querySelector(".right-hand").style.animation = "rotation-right-hand .5s", u.play();
      }, 100)) : y.play();
    }function f(a, b) {
      0 > a.indexOf(b) ? (a.push(b), x.play(), r++, document.querySelector(".level" + r).classList.add("show"), document.querySelector(".iceberg-piece" + r).classList.add("hide"), g(b)) : y.play();
    }function g(a) {
      var b = document.createElement("div");b.classList.add("letter-box"), b.innerHTML = a, k.appendChild(b);
    }function h() {
      document.querySelector(".left-hand").style.animation = null, document.querySelector(".right-hand").style.animation = null;
    }function i() {
      location.reload();
    }var j = a.toUpperCase(),
        k = document.querySelector(".missed-letter");var l = "";var m = document.querySelector(".password");var n = [],
        o = [],
        p = [],
        q = [],
        r = 0;var s = document.querySelector(".instruction"),
        t = document.querySelectorAll(".ice"),
        u = new Audio("src/audio/quack.wav"),
        v = new Audio("src/audio/win.flac"),
        w = new Audio("src/audio/lose.wav"),
        x = new Audio("src/audio/error.wav"),
        y = new Audio("src/audio/repeat.wav");var z = document.createElement("div");z.classList.add("end-game"), z.innerHTML = " <div class='end-box'><div class='end-box-wrapper'><img src='src/img/gameover.PNG'><div class='end-box-play'><h4 class='end-box-header'>You melt iceberg!</h4><p class='secret-word'>Secret word: " + j + "</p><button class='btn'>Play again</button></div></div><div class='water'></div></div>";var A = document.createElement("div");A.classList.add("end-game"), A.innerHTML = "<div class='end-box'><div class='end-box-wrapper'><img src='src/img/win.PNG'><div class='end-box-play'><h4 class='end-box-header'>You saved cute pinguin!</h4><p class='secret-word'>Secret word: " + j + "</p><button class='btn'>Play again</button></div></div></div></div>";var B = document.querySelector(".container");(function () {
      for (var _a3 = 0; _a3 < j.length; _a3++) {
        0 == _a3 % 3 ? (l += j[_a3], p.push(j[_a3])) : (l += " ", q.push(j[_a3]));
      }
    })(), c();for (var _b3 = 0; _b3 < q.length; _b3++) {
      -1 === q.indexOf(p[_b3]) && n.push(p[_b3]);
    }String.prototype.showLetter = function (a, b) {
      return a > this.length - 1 ? void this.toString() : this.substr(0, a) + b + this.substr(a + 1);
    };
  }(function () {
    $.ajax({ type: "GET", url: "src/json/words.json", dataType: "json" }).done(function (b) {
      var c = Math.floor(Math.random() * b.length),
          d = b[c].word;a(d);
    });
  })();
});