document.addEventListener("DOMContentLoaded",()=>{function a(a){function b(){for(;m.firstChild;)m.removeChild(m.firstChild);for(let a,b=0;b<l.length;b++)a=document.createElement("div"),a.classList.add("password-letter"),a.append(l[b]),m.appendChild(a)}function c(a){var f=String.fromCharCode;g();let i,k=!1,m=!1;if(i=229==a.keyCode?$(".dummy").val().slice($(".dummy").val().length-1,$(".dummy").val().length).toUpperCase().charCodeAt(0):a.keyCode,65<=i&&90>=i||97<=i&&122>=i){let a=f(i).toUpperCase();for(let b=0;b<j.length;b++)j.charAt(b)==a&&(l=l.showLetter(b,a),k=!0),-1!=p.indexOf(a)&&(m=!0);console.log(m),k?(d(n,a),b()):e(o,a)}else alert("only letters please");l==j&&(document.removeEventListener("keypress",c),u.play(),document.body.insertBefore(z,A),setTimeout(function(){document.querySelector(".left-hand").style.animation="rotation-left-hand .5s infinite",document.querySelector(".right-hand").style.animation="rotation-right-hand .5s infinite",document.querySelector(".end-box").classList.add("opacity")},200),document.querySelector(".btn").addEventListener("click",h)),r>s.length-1&&(console.log("przegrales"),document.removeEventListener("keypress",c),v.play(),document.body.insertBefore(y,A),setTimeout(function(){document.querySelector(".end-box").classList.add("opacity")},200),document.querySelector(".btn").addEventListener("click",h))}function d(a,b){0>a.indexOf(b)?(a.push(b),setTimeout(function(){document.querySelector(".left-hand").style.animation="rotation-left-hand .5s",document.querySelector(".right-hand").style.animation="rotation-right-hand .5s",t.play()},100)):x.play()}function e(a,b){0>a.indexOf(b)?(a.push(b),w.play(),r++,document.querySelector(".level"+r).classList.add("show"),document.querySelector(".iceberg-piece"+r).classList.add("hide"),f(b)):x.play()}function f(a){let b=document.createElement("div");b.classList.add("letter-box"),b.innerHTML=a,k.appendChild(b)}function g(){document.querySelector(".left-hand").style.animation=null,document.querySelector(".right-hand").style.animation=null}function h(){location.reload()}const j=a.toUpperCase(),k=document.querySelector(".missed-letter");let l="";const m=document.querySelector(".password");let n=[],o=[],p=[],q=[],r=0;const s=document.querySelectorAll(".ice"),t=new Audio("src/audio/quack.wav"),u=new Audio("src/audio/win.flac"),v=new Audio("src/audio/lose.wav"),w=new Audio("src/audio/error.wav"),x=new Audio("src/audio/repeat.wav");let y=document.createElement("div");y.classList.add("end-game"),y.innerHTML=" <div class='end-box'><div class='end-box-wrapper'><img src='src/img/gameover.PNG'><div class='end-box-play'><h4 class='end-box-header'>You melt iceberg!</h4><button class='btn'>Play again</button></div></div><div class='water'></div></div>";let z=document.createElement("div");z.classList.add("end-game"),z.innerHTML="<div class='end-box'><div class='end-box-wrapper'><img src='src/img/win.PNG'><div class='end-box-play'><h4 class='end-box-header'>You saved cute pinguin!</h4><button class='btn'>Play again</button></div></div></div></div>";const A=document.querySelector(".container");console.log(j),function(){for(let a=0;a<j.length;a++)0==a%3?(l+=j[a],p.push(j[a])):(l+=" ",q.push(j[a]))}(),b();for(let b=0;b<q.length;b++)-1===q.indexOf(p[b])&&n.push(p[b]);document.addEventListener("keydown",c),$(document).on("click",function(){$(".dummy").focus()}),$(".dummy").focus(),String.prototype.showLetter=function(a,b){return a>this.length-1?void this.toString():this.substr(0,a)+b+this.substr(a+1)}}(function(){$.ajax({type:"GET",url:"src/json/words.json",dataType:"json"}).done(b=>{const c=Math.floor(Math.random()*b.length),d=b[c].word;a(d)})})()});